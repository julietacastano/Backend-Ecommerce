<header class="bg-indigo-400 p-4">
    <div class="mx-auto flex justify-between items-center flex-wrap ">
        <a href="/products" class="text-4xl text-center font-medium font-mono">BookStore</a>
        <nav>
            <a class= "py-3 px-3" href="/admin">Administrador</a>
            <a class= "py-3 px-3" href="/carts">Carrito</a>
            {{#if usuario}}
            <a href="/auth/logout" class= "py-3 pl-3 pr-10">Cerrar sesion</a>
            {{else}}
            <a href="/auth/login" class= "py-3 pl-3 pr-10">Iniciar sesion</a>
            {{/if}}
        </nav>
    </div>
</header>
<main>
        {{#if error.length}}
    <div class="max-w-md mx-auto my-10 alertas">
        {{#each error}}
            <p class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold rounded-md">{{this}}</p>
        {{/each}}
    </div>
    {{/if}}
    {{#if message.length}}
    <div class="max-w-md mx-auto my-10 alertas">
        {{#each message}}
            <p class="bg-green-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold rounded-md">{{this}}</p>
        {{/each}}
    </div>
    {{/if}}
    <h3 class="text-4xl text-center my-5 " >{{titlePage}}</h3>
    <div class="flex justify-end mx-10">
        <form action="/products/buscador" method="POST">
            <input type="text" name="q" class="bg-indigo-50 rounded p-2 ">
            <input type="submit" value="Buscar" class="cursor-pointer bg-indigo-300 rounded py-2 px-4">
        </form>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-5 mx-5 my-10">
        {{#if products}}
            {{#each products}}
            <div class="bg-white shadow rounded-lg">
                <div class="p-5">
                    <h4 class="text-lg font-semibold mb-3">{{this.title}}</h4>
                    <p class="text-sm text-gray-600 mb-3">Description: 
                        <span class="text-gray-800 font-medium">{{this.description}}</span>
                    </p>
                    <p class="text-sm text-gray-600 mb-10">Price:  
                        <span class="text-gray-800 font-medium">${{this.price}}</span>
                    </p>
                    <a href="/products/{{this._id}}" class= "bg-indigo-600 py-2 px-6 rounded-md text-white">Detalle</a>
                </div>
            </div>
            {{/each}}
        {{else}}
        <h3 class="text-xl text-center">There are no product available</h3>
        {{/if}}
    </div>
    {{#if buscador}}
        <div class="flex justify-center align-center mb-5"> 
            <p>No hay mas productos disponibles para la busqueda</p>
        </div>
    {{else}}
        <div class="flex justify-center align-center mb-10">
        <a href="/products?pagina=1" class="mx-5 relative inline-flex intems-center px-4 py-2 border border-gray-800 text-gray-700 hover:bg-indigo-50 text-sm font-medium rounded-md"> 1 </a>
        <a href="/products?pagina=2" class="mx-5 relative inline-flex intems-center px-4 py-2 border border-gray-800 text-gray-700 hover:bg-indigo-50 text-sm font-medium rounded-md"> 2 </a>
        <a href="/products?pagina=3" class="mx-5 relative inline-flex intems-center px-4 py-2 border border-gray-800 text-gray-700 hover:bg-indigo-50 text-sm font-medium rounded-md"> 3 </a>
    </div>
    {{/if}}

</main>
<script src="/static/js/products.js"></script>